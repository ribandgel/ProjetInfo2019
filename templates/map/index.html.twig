{% extends 'base.html.twig' %}

{% block title %}Carte des domaines{% endblock %}

{% block body %}

    <div class="d-flex justify-content-center py-4">
        <button class="border-0 rounded p-2" id="searchOpt">Rechercher sur la carte</button>
    </div>
    <div id="search" class="container justify-content-center">
        <p class="d-flex justify-content-center">Filtrer par :</p>
        <form id="searchForm" method="get">
            <div id="radioOptSearch" class="d-flex justify-content-center py-1">
                <label class="pr-2"><input type="radio" name="searchOption" checked value="appellation" id="designationRadio"> Appellation</label>
                <label class="pr-2"><input type="radio" name="searchOption" value="couleur"> Couleur</label>
                <label class="pr-2"><input type="radio" name="searchOption" value="cepage"> Cépage</label>
            </div>
            <div class="form-group">
                <input type="text" id="searchQuery" class="form-control mx-auto d-flex justify-content-center" placeholder="Entrez un nom d'appellation">
            </div>
            <div class="d-flex justify-content-center pb-2">
                <button id="searchBt" type="button" class="border-0 rounded p-2">Rechercher</button>
                <button id="closeSearch" type="button" class="btn bg-transparent p-2">Fermer la recherche</button>
            </div>
            <p id="notFound" class="d-flex justify-content-center pt-2"></p>
        </form>
    </div>

<div class="pb-3">
    <div id="searchResMap">
    </div>
</div>


    <div id="mapsAndMenu">
     <div class="container border-bottom d-flex justify-content-center pt-2" id="btMapLinks">
            <button class="border-0 rounded-top mapLinks mx-1" id="map1Link">Domaines</button>
            <button class="border-0 rounded-top mapLinks mx-1" id="map2Link">Appellations</button>
            <button class="border-0 rounded-top mapLinks mx-1" id="map3Link">Cépages</button>
     </div>

    <div class="container pb-4">
        <div id="domaines">
            <h5 class="d-flex justify-content-center pt-3">Cartes des domaines viticoles</h5>
            <p class="d-flex justify-content-center alert-danger" id="errorMsgApiNotWorking"></p>
            <div id="mapid">
            </div>
        </div>
        <div id="appellations">
                <h5 class="d-flex justify-content-center pt-3">Cartes des appellations</h5>
                <p class="d-flex justify-content-center alert-danger" id="errorMsgApiNotWorking1"></p>
                <div id="mapid1">
                </div>
            </div>
            <div id="cepages">
                <h5 class="d-flex justify-content-center pt-3">Cartes des cepages</h5>
                <p class="d-flex justify-content-center alert-danger" id="errorMsgApiNotWorking2"></p>
                <div id="mapid2">
                </div>
            </div>
        </div>
    </div>

    <input id="data" type="hidden" data-wineries-link="{{ wineriesLink|json_encode }}" />

    {% block javascripts %}
        {{ encore_entry_script_tags('app') }}
        {{ encore_entry_script_tags('leaflet') }}
    {% endblock %}

{% endblock %}
